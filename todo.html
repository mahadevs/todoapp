<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		.parent {
    height: 300px;
    width: 600px;
    margin: auto;
    border: 1px solid;
}

.twobuttons {
   
     float: right;
      margin-right: 20px;
}

.twobuttons button {
   margin-left: 20px;
   
}
.editmode input[type="text"]{
	display: inline-block;
}
.editmode lable{
	display: none;
}

li {
    list-style-type: none;
}
ul li input[type="text"]{
	display:none;
}

	</style>
</head>
<body>

<div class="parent">
	<label for="inputdata">enter task to add</label>
	<input type="text" id="inputdata" required>
	<button id="addto">ADD</button>
	<hr>
	<h1>incompleted task</h1>
	<ul id="incompleted">
		
	</ul>
	<h1>completed task</h1>
	<ul id="completed">
		
	</ul>
	
</div>

<script>
var addbtn=document.getElementById('addto');
var newtask=document.getElementById('inputdata');
var incompletedtask=document.getElementById('incompleted');
var completedtask=document.getElementById('completed');
var addnewtask=function(){
	var checkbox=document.createElement('input');
	var textbox=document.createElement('input');
	var lable=document.createElement('lable');
	var editbtn=document.createElement('button');
	var deletebtn=document.createElement('button');
	var list=document.createElement('li');
	var buttons=document.createElement('span');
	//modifying 
	checkbox.setAttribute('type','checkbox');
	textbox.setAttribute('type','text');
	//storing value of input field to lable
	buttons.className="twobuttons";
	deletebtn.innerHTML="delete";
	editbtn.innerHTML="edit";
	lable.innerHTML=newtask.value;
	//appending li to ul
	list.appendChild(checkbox);
	list.appendChild(textbox);
	list.appendChild(lable);
	buttons.appendChild(deletebtn);
	buttons.appendChild(editbtn);
	list.appendChild(buttons);
	incompletedtask.appendChild(list);
	newtask.value="";
	deletebtn.onclick=deletetask;
	checkbox.onchange=moveto;
	editbtn.onclick=edittask;
}
addbtn.onclick=addnewtask;
var deletetask=function(){
	alert("hai am heer to delete the task");
	console.log(this.parentNode.parentNode.parentNode);
	var ul=this.parentNode.parentNode.parentNode;
	ul.removeChild(this.parentNode.parentNode);
}
var moveto=function(){
	console.log(this.parentNode.parentNode.getAttribute('id'));
	var ul=this.parentNode.parentNode.id;
	listitem=this.parentNode;
	if(ul==="incompleted"){
		completedtask.appendChild(listitem);
	}
	else if(ul==="completed"){
		incompletedtask.appendChild(listitem);
	}
}
var edittask=function(){
	console.log(this.parentNode.parentNode);
	var textbox=this.parentNode.parentNode.querySelector("input[type=text]");
	var lable=this.parentNode.parentNode.querySelector('lable');
/*	this.parentNode.parentNode.className="editmode";*/
if(this.parentNode.parentNode.className!="editmode"){
		textbox.value=lable.innerHTML;
		this.parentNode.parentNode.className="editmode";
	}

	else if(this.parentNode.parentNode.className="editmode"){
		lable.innerHTML=textbox.value;
		this.parentNode.parentNode.className="";
	} 


}

</script>
</body>
</html>